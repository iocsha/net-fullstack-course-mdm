# Курс Fullstack разработки на ASP.NET Core + React\Redux

## Блок 2. ASP.NET Core

### Домашнее задание

1. Создать модели бизнес логики в `src\server\Models`
2. Создать модели DTO классов для контроллеров в `src\server\Models\Dto`
3. Добавить класс, содержащий ошибки модели и валидировать все Dto
4. Создать (или расширить, если уже есть) классы - компоненты бизнес логики:
   - начисление бонусных рублей при открытии счета
   - конвертация валют
   - получение баланса по карте
   - проверка существования карты в хранилище данных
   - осуществление перевода денег с карты на карту
   - генерация нового номера карты (для добавления в хранилище данных)
   - проверка срока действия карты
6. Создать класс(ы), который занимается валидацией Dto
7. Создать классы-репозитории, которые:
  - занимаются хранением **в памяти** карт и транзакций
  - позволяют добавить в хранилище новую карту  
  - репозитории должны наполняться тестовыми данными.
8. Реализовать механизм наполнения тестовыми данными моделей для тестирования без базы данных
9. Реализовать свои классы от `Exception` для фатальных ошибок и ошибок бизнес логики, которые нельзя показывать пользователю (напр. нулевого баланса счета)
10. Создать web api контроллеры и endpoints на базе webapi шаблона
11. Вся бизнес логика должна быть готова на данном этапе к внедрению баз данных и UI
12. В webapi приложении реализована обработка ошибок критичных `Exception` на уровне middleware
13. \*\* Написать тесты на все контроллеры, тесты обозначают поведение user stories по заведению карт и добавлению транзакций
14. \*\* Для классов сервисов написать unit тесты

### Материалы для изучения дома

- <https://1drv.ms/b/s!AswfoxlkvkXGgdI1UXmmiY0OvUXpcA> - C# 6.0 in a Nutshell
- <https://metanit.com/sharp/tutorial/3.1.php> - классы
- <https://metanit.com/sharp/tutorial/3.9.php> - интерфейсы
- <https://metanit.com/sharp/tutorial/3.7.php> - наследование
- <https://metanit.com/sharp/tutorial/2.14.php> - обработка исключений
- <https://metanit.com/sharp/tutorial/3.17.php> - создание классов исключений
- <https://metanit.com/sharp/aspnet5/2.1.php> - класс `StartUp`
- <https://metanit.com/sharp/aspnet5/2.4.php> - middleware
- <https://metanit.com/sharp/aspnet5/2.18.php> - конвейер обработки запросов
- <https://docs.microsoft.com/en-us/aspnet/core/web-api/?view=aspnetcore-2.2> - webapi
- <https://enterprisecraftsmanship.com/2015/04/13/dto-vs-value-object-vs-poco/> - DTO vs POCO vs VO
- Библиотеки для моков:
  - <https://github.com/moq/moq4> - Moq
  - <http://nsubstitute.github.io> - NSubstitute
